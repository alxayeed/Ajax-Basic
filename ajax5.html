<!DOCTYPE html>
<html>
<head>
	<title>AJAX 5- FETCH from MYSQL</title>
</head>
<body>
<button id="button">USERS</button>
<br><br>

<h1>USERS</h1>
<div id="users">
	
</div>

<script>
	document.getElementById('button').addEventListener('click',loadUsers);
	

	
	function loadUsers(){
		var xhr = new XMLHttpRequest();
		xhr.open('GET', 'users.php', true);

		xhr.onload = function(){
			if (this.status ==200){
				var users = JSON.parse(this.responseText);
				
				var output = '';

				for(var i in users){
				output += '<ul>'+
					'<li>ID:'+users[i].id+'</li>' +
					'<li>Name:'+users[i].name+'</li>' +
					'</ul>';
				}
				document.getElementById('users').innerHTML = output;
			}

			
		}

		xhr.onerror = function(){
			console.log('Error Occured...')
		}

		xhr.send()
	}

</script>

</body>
</html>